[gd_scene load_steps=8 format=2]

[ext_resource path="res://scenes/Game/Game.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/TerrainWalls.tscn" type="PackedScene" id=2]
[ext_resource path="res://scenes/TouchController/TouchController.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/Levels/Terrain0.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/Screens/GameOverScreen.tscn" type="PackedScene" id=5]
[ext_resource path="res://scenes/Screens/WinScreen.tscn" type="PackedScene" id=6]
[ext_resource path="res://assets/sounds/drowning_in_air-Ketsa.ogg" type="AudioStream" id=7]

[node name="TestScene" type="Node"]

[node name="TouchController" parent="." instance=ExtResource( 3 )]

[node name="Game" parent="." instance=ExtResource( 1 )]
terrain_path = NodePath("Terrain")

[node name="Terrain" parent="Game" instance=ExtResource( 4 )]

[node name="TerrainWalls" parent="." instance=ExtResource( 2 )]

[node name="GameOverScreen" parent="." instance=ExtResource( 5 )]
visible = false

[node name="WinScreen" parent="." instance=ExtResource( 6 )]
visible = false

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 7 )
volume_db = -20.0
autoplay = true
[connection signal="dragged" from="TouchController" to="Game" method="_on_TouchController_dragged"]
[connection signal="start_pressing" from="TouchController" to="Game" method="_on_TouchController_start_pressing"]
[connection signal="stop_pressing" from="TouchController" to="Game" method="_on_TouchController_stop_pressing"]
[connection signal="shiba_start" from="Game" to="Game/Terrain" method="_on_Game_shiba_start"]
[connection signal="shiba_stop" from="Game" to="Game/Terrain" method="_on_Game_shiba_stop"]
[connection signal="advance" from="Game/Terrain" to="Game" method="_on_Terrain_advance"]
[connection signal="lose" from="Game/Terrain" to="GameOverScreen" method="_on_Terrain_lose"]
[connection signal="win" from="Game/Terrain" to="Game" method="_on_Terrain_win"]
[connection signal="win" from="Game/Terrain" to="WinScreen" method="_on_Terrain_win"]
[connection signal="lose" from="TerrainWalls" to="Game" method="_on_TerrainWalls_lose"]
[connection signal="lose" from="TerrainWalls" to="GameOverScreen" method="_on_TerrainWalls_lose"]
[connection signal="goto_scene" from="GameOverScreen" to="Game" method="goto_scene"]
[connection signal="goto_scene" from="WinScreen" to="Game" method="goto_scene"]
